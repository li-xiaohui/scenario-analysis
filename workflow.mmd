flowchart TD
    Start([Start])
    ContextFinder[Context Finder]
    ScenarioAnalyst[Scenario Analyst]
    SelectTopScenarios[Select Top Scenarios]
    EventAnalyst[Event Analyst]
    End([End])

    Start --> ContextFinder
    ContextFinder -- "scenarios_required: True" --> ScenarioAnalyst
    ContextFinder -- "scenarios_required: False" --> End
    ScenarioAnalyst --> SelectTopScenarios
    SelectTopScenarios --> EventAnalyst
    EventAnalyst --> End

    %% Details
    subgraph Details
        ContextFinder
        ScenarioAnalyst
        SelectTopScenarios
        EventAnalyst
    end

    classDef node fill:#e3f2fd,stroke:#1976d2,stroke-width:2px;
    class ContextFinder,ScenarioAnalyst,SelectTopScenarios,EventAnalyst node; 